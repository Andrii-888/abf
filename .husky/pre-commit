#!/bin/bash
set -e

# === ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, ĞµÑÑ‚ÑŒ Ğ»Ğ¸ staged-Ñ„Ğ°Ğ¹Ğ»Ñ‹ ===
if [ "$(git diff --cached --name-only --diff-filter=ACMR | wc -l)" -eq 0 ]; then
  echo "âœ… No staged files â€” skipping lint-staged."
  exit 0
fi

echo "ğŸ” Running lint-staged..."
if npx lint-staged; then
  echo "âœ… lint-staged completed successfully."
else
  echo "âŒ lint-staged failed. Commit aborted."
  exit 1
fi
